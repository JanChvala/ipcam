%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% put \usepackage inside
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{tikz}

\usepackage{perpage} % the perpage package
\MakePerPage{footnote} % the perpage package command

\usepackage{wrapfig} % wrapping of figures

\usepackage{etoolbox} % tools for commands changing
\patchcmd{\listoffigures}{\chapter*}{\chapter}{}{} % use \chapter instead of \chapter* for list of figures

\usepackage{color} % color macros
\definecolor{pblue}{rgb}{0.13,0.13,1}
\definecolor{pgreen}{rgb}{0,0.5,0}
\definecolor{pred}{rgb}{0.9,0,0}
\definecolor{pgrey}{rgb}{0.46,0.45,0.48}

\usepackage{csquotes} % advanced capabilities for inline and block quotes
\usepackage{graphicx} % including graphics
\usepackage{pdfpages} % simply including pdf files
\usepackage[bottom]{footmisc} % aligning footnotes to bottom
\usepackage{listings} % listings for CODE writing

\usepackage{cleveref} % clever referencing

% setting of Java language for listing environment
\lstset{language=Java,
  showspaces=false,
  showtabs=false,
  breaklines=true,
  showstringspaces=false,
  breakatwhitespace=true,
  commentstyle=\color{pgreen},
  keywordstyle=\color{pblue},
  stringstyle=\color{pred},
  basicstyle=\ttfamily,
  moredelim=[il][\textcolor{pgrey}]{$$},
  moredelim=[is][\textcolor{pgrey}]{\%\%}{\%\%}
}